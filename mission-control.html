<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gunnar Mission Control</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <style>
        :root {
            color-scheme: light dark;
            --bg: #050816;
            --panel: rgba(15, 23, 42, 0.85);
            --panel-border: rgba(148, 163, 184, 0.2);
            --text: #e2e8f0;
            --muted: #94a3b8;
            --accent: #67e8f9;
            --accent-2: #a855f7;
        }
        * { box-sizing: border-box; }
        body {
            margin: 0;
            font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: radial-gradient(circle at top, rgba(103, 232, 249, 0.15), transparent 45%),
                        radial-gradient(circle at 30% 20%, rgba(168, 85, 247, 0.15), transparent 40%),
                        var(--bg);
            min-height: 100vh;
            color: var(--text);
            padding: clamp(1.5rem, 3vw, 3rem);
        }
        header {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 1rem;
            margin-bottom: 2rem;
            align-items: flex-end;
        }
        h1 {
            font-size: clamp(2rem, 4vw, 3rem);
            letter-spacing: -0.02em;
            margin: 0;
        }
        .subtitle {
            color: var(--muted);
            margin-top: 0.35rem;
        }
        .nav-links a {
            text-decoration: none;
            color: var(--text);
            border: 1px solid var(--panel-border);
            border-radius: 999px;
            padding: 0.5rem 1.25rem;
            font-size: 0.9rem;
            transition: border 0.2s ease, transform 0.2s ease;
        }
        .nav-links a + a { margin-left: 0.75rem; }
        .nav-links a:hover { border-color: var(--accent); transform: translateY(-2px); }
        .grid {
            display: grid;
            gap: clamp(1rem, 2vw, 1.5rem);
        }
        .grid.stats {
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            margin-bottom: 2rem;
        }
        .card {
            position: relative;
            background: var(--panel);
            border: 1px solid var(--panel-border);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 25px 50px rgba(2, 6, 23, 0.65);
            overflow: hidden;
        }
        .card::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 20px;
            padding: 1px;
            background: linear-gradient(135deg, rgba(103, 232, 249, 0.35), rgba(168, 85, 247, 0.35));
            -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            pointer-events: none;
        }
        .card h3 {
            margin: 0;
            font-size: 0.9rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            color: var(--muted);
        }
        .stat-value {
            font-size: 2.25rem;
            font-weight: 600;
            margin-top: 0.35rem;
        }
        .stat-subtext {
            color: var(--muted);
            margin-top: 0.35rem;
            font-size: 0.9rem;
        }
        h2.section-title {
            font-size: 1.25rem;
            margin: 0 0 1rem 0;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--muted);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            color: var(--text);
            font-size: 0.95rem;
        }
        th, td {
            padding: 0.85rem 0.5rem;
        }
        th {
            text-transform: uppercase;
            font-size: 0.7rem;
            letter-spacing: 0.15em;
            color: var(--muted);
            border-bottom: 1px solid var(--panel-border);
        }
        tr + tr td {
            border-top: 1px solid rgba(148, 163, 184, 0.1);
        }
        .badge {
            display: inline-flex;
            align-items: center;
            border-radius: 999px;
            padding: 0.25rem 0.75rem;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            font-weight: 600;
        }
        .badge-active { background: rgba(34, 197, 94, 0.15); color: #4ade80; }
        .badge-alert { background: rgba(248, 113, 113, 0.15); color: #f87171; }
        .badge-pending { background: rgba(251, 191, 36, 0.15); color: #facc15; }
        .timeline {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .timeline-entry {
            display: flex;
            gap: 0.85rem;
        }
        .timeline-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: var(--accent);
            margin-top: 0.3rem;
            box-shadow: 0 0 15px var(--accent);
        }
        .timeline-body {
            flex: 1;
        }
        .timeline-body h4 {
            margin: 0;
            font-size: 1rem;
        }
        .timeline-meta {
            font-size: 0.85rem;
            color: var(--muted);
        }
        .system-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 1rem;
        }
        .system-card h4 {
            margin: 0 0 0.5rem 0;
            font-size: 1rem;
        }
        ul.chip-list {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            gap: 0.35rem;
        }
        ul.chip-list li {
            background: rgba(148, 163, 184, 0.12);
            border-radius: 999px;
            padding: 0.25rem 0.75rem;
            font-size: 0.8rem;
        }
        @media (max-width: 768px) {
            header { flex-direction: column; align-items: flex-start; }
            .nav-links { width: 100%; }
            .nav-links a { display: inline-flex; margin-bottom: 0.5rem; }
        }
    </style>
</head>
<body>
    <header>
        <div>
            <h1>Mission Control</h1>
            <p class="subtitle">Live status of Gunnar automations, detection cadence, and routing</p>
        </div>
        <div class="nav-links">
            <a href="index.html">← Revenue Dashboard</a>
            <a href="automation.html">Automation Feed →</a>
        </div>
    </header>

    <section class="grid stats">
        <article class="card">
            <h3>Active Monitors</h3>
            <p class="stat-value">4</p>
            <p class="stat-subtext">RFP, CCUS permits, Federal grants, Cron heartbeat</p>
        </article>
        <article class="card">
            <h3>Detection Window</h3>
            <p class="stat-value">24h</p>
            <p class="stat-subtext">Newest signals land < 1 day from source publish</p>
        </article>
        <article class="card">
            <h3>Alerts (72h)</h3>
            <p class="stat-value">9</p>
            <p class="stat-subtext">3 routed to pipeline, 6 to knowledge queue</p>
        </article>
        <article class="card">
            <h3>Next Cron Run</h3>
            <p class="stat-value">08:00 PT</p>
            <p class="stat-subtext">Grant tracker + RFP diff in queue</p>
        </article>
    </section>

    <section class="card">
        <h2 class="section-title">Automation Health</h2>
        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.25rem;">
            <div>
                <table>
                    <thead>
                        <tr>
                            <th>System</th>
                            <th>Status</th>
                            <th>Last Run</th>
                            <th>Output</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>RFP Scraper</td>
                            <td><span class="badge badge-active">OK</span></td>
                            <td>Today · 09:07</td>
                            <td>2 new bids (CalGEM, NM OCD)</td>
                        </tr>
                        <tr>
                            <td>CCUS Permit Monitor</td>
                            <td><span class="badge badge-active">OK</span></td>
                            <td>Feb 15 · 17:02</td>
                            <td>Talos hub → pipeline refresh</td>
                        </tr>
                        <tr>
                            <td>Grant Tracker</td>
                            <td><span class="badge badge-alert">Alert</span></td>
                            <td>Today · 08:04</td>
                            <td>API 429 retry required</td>
                        </tr>
                        <tr>
                            <td>LinkedIn Listener</td>
                            <td><span class="badge badge-pending">Pending</span></td>
                            <td>–</td>
                            <td>Await Sales Navigator token</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <table>
                    <thead>
                        <tr>
                            <th>System</th>
                            <th>Status</th>
                            <th>Last Run</th>
                            <th>Output</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Target Account Signals</td>
                            <td><span class="badge badge-pending">Building</span></td>
                            <td>–</td>
                            <td>News/API wiring</td>
                        </tr>
                        <tr>
                            <td>Warm Intro Finder</td>
                            <td><span class="badge badge-pending">Blocked</span></td>
                            <td>–</td>
                            <td>LinkedIn scope approval</td>
                        </tr>
                        <tr>
                            <td>Event Monitor</td>
                            <td><span class="badge badge-pending">Backlog</span></td>
                            <td>–</td>
                            <td>Needs calendar ingestion</td>
                        </tr>
                        <tr>
                            <td>Competitor Intelligence</td>
                            <td><span class="badge badge-pending">Backlog</span></td>
                            <td>–</td>
                            <td>NLP + scraping module</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <section class="card">
        <h2 class="section-title">Live Routing Log</h2>
        <div class="timeline">
            <div class="timeline-entry">
                <div class="timeline-dot"></div>
                <div class="timeline-body">
                    <h4>CalGEM urban P&A package detected</h4>
                    <p class="timeline-meta">RFP Scraper · 09:07 PT · Routed to Pipeline → CalGEM</p>
                    <p>Auto-attached Boyle Heights case study brief + reminded Gunnar team to prep pricing grid.</p>
                </div>
            </div>
            <div class="timeline-entry">
                <div class="timeline-dot" style="background:#f87171; box-shadow:0 0 15px #f87171;"></div>
                <div class="timeline-body">
                    <h4>Grants.gov search throttled</h4>
                    <p class="timeline-meta">Grant Tracker · 08:04 PT · Alerted via WhatsApp</p>
                    <p>Queued retry with exponential backoff. Needs API key or request spacing (5/min) adjustment.</p>
                </div>
            </div>
            <div class="timeline-entry">
                <div class="timeline-dot" style="background:#a855f7; box-shadow:0 0 15px #a855f7;"></div>
                <div class="timeline-body">
                    <h4>Talos CCS hub enters comment window</h4>
                    <p class="timeline-meta">CCUS Monitor · Feb 15 · Synced to Opportunity → Talos</p>
                    <p>Triggered reminder to request compliance intro + package relief-ready retainer pricing.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="card">
        <h2 class="section-title">Cron & Alert Matrix</h2>
        <div class="system-grid">
            <div class="system-card">
                <h4>Heartbeat & Cadence</h4>
                <ul class="chip-list">
                    <li>Grant Tracker · daily 08:00</li>
                    <li>RFP Scraper · daily 09:00</li>
                    <li>CCUS Monitor · weekly Fri 17:00</li>
                    <li>Permit diff backup · Sun 06:00</li>
                </ul>
            </div>
            <div class="system-card">
                <h4>Alert Fan-out</h4>
                <ul class="chip-list">
                    <li>WhatsApp → Immediate</li>
                    <li>Dashboard badge → Index + Mission Control</li>
                    <li>memory/YYYY-MM-DD.md → daily digest</li>
                </ul>
            </div>
            <div class="system-card">
                <h4>Pending Actions</h4>
                <ul class="chip-list">
                    <li>Grant API throttle fix</li>
                    <li>LinkedIn auth token</li>
                    <li>Event calendar feed</li>
                    <li>Competitor NLP scaffolding</li>
                </ul>
            </div>
            <div class="system-card">
                <h4>Escalation Rules</h4>
                <ul class="chip-list">
                    <li>2 misses → manual ping</li>
                    <li>Critical bids → auto-create task</li>
                    <li>Data drift → run diagnostics</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="card">
        <h2 class="section-title">Ops Runbook</h2>
        <div class="system-grid">
            <div class="system-card">
                <h4>Model Chain Playbook</h4>
                <p style="color: var(--muted); line-height: 1.6;">Route costly work to the right model mix so Opus only handles strategy. This mirrors the Mac Mini guide’s phased model plan.</p>
                <ul class="chip-list">
                    <li>Brain: Claude Opus 4.6 (default conversations)</li>
                    <li>Heartbeat: Claude 3.5 Haiku · every 1h</li>
                    <li>Browse/RSS: DeepSeek V3</li>
                    <li>Coding: GPT-5.2 Codex xHigh</li>
                    <li>Vision: Gemini 2.5 Flash</li>
                </ul>
                <p style="color: var(--muted); line-height: 1.6;">DM prompts: “Switch browse tasks to DeepSeek V3”, “Route coding to GPT-5.2 Codex”, “Set heartbeat to Haiku hourly.”</p>
            </div>
            <div class="system-card">
                <h4>Gateway Control & Restarts</h4>
                <p style="color: var(--muted); line-height: 1.6;">Use the launchd service + CLI for lifecycle management.</p>
                <ul class="chip-list">
                    <li><code>openclaw gateway status</code> (health)</li>
                    <li><code>openclaw gateway restart</code> (apply config)</li>
                    <li><code>launchctl start ai.openclaw.gateway</code></li>
                    <li><code>openclaw status --all</code> (full report)</li>
                    <li><code>openclaw channels status --probe</code></li>
                </ul>
                <p style="color: var(--muted); line-height: 1.6;">Keep <code>bind=loopback</code>; never run with auth=none.</p>
            </div>
            <div class="system-card">
                <h4>Updates, Security & Diagnostics</h4>
                <p style="color: var(--muted); line-height: 1.6;">Follow the Mac Mini guide cadence.</p>
                <ul class="chip-list">
                    <li><code>npm install -g openclaw@latest</code></li>
                    <li><code>openclaw doctor --fix</code></li>
                    <li><code>openclaw security audit --deep</code></li>
                    <li><code>openclaw status</code> / <code>health</code></li>
                    <li><code>openclaw message send …</code> (smoke test)</li>
                </ul>
                <p style="color: var(--muted); line-height: 1.6;">Audit skills before install; respect SOUL.md critical constraints.</p>
            </div>
            <div class="system-card">
                <h4>Backups & Restore</h4>
                <p style="color: var(--muted); line-height: 1.6;">Hourly git sync for workspace + daily data drops to Drive.</p>
                <ul class="chip-list">
                    <li><code>cd ~/.openclaw/workspace && git add -A</code></li>
                    <li><code>git commit -m "auto" && git push</code></li>
                    <li>Use cron to trigger DB dumps → Drive</li>
                    <li>Maintain <code>RESTORE.md</code> with rebuild steps</li>
                </ul>
                <p style="color: var(--muted); line-height: 1.6;">If compromised: stop gateway, revoke API keys, rotate Discord/Telegram tokens, review logs.</p>
            </div>
            <div class="system-card">
                <h4>Remote Access & Emergencies</h4>
                <p style="color: var(--muted); line-height: 1.6;">Tailscale + SSH keeps the Mac Mini manageable without exposing ports.</p>
                <ul class="chip-list">
                    <li><code>ssh -L 18789:127.0.0.1:18789 user@100.x.x.x</code></li>
                    <li><code>openclaw dashboard --no-open</code> → use tokenized URL</li>
                    <li><code>openclaw gateway stop</code> / <code>pkill -f openclaw</code> (panic)</li>
                    <li>Re-enable services via launchctl after fix</li>
                </ul>
                <p style="color: var(--muted); line-height: 1.6;">Keep Apple Keychain/Bitwarden up to date; rotate API keys quarterly.</p>
            </div>
        </div>
    </section>

    <section class="card">
        <h2 class="section-title">Implementation Notes</h2>
        <div style="display: grid; gap: 1.25rem; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
            <div>
                <h4 style="margin:0 0 0.5rem 0;">Data Sources</h4>
                <p style="color: var(--muted); line-height: 1.6;">CalGEM/NM OCD HTML scrapes → SQLite diff, Grants.gov search2 JSON, EPA Class VI API, manual LinkedIn exports.</p>
            </div>
            <div>
                <h4 style="margin:0 0 0.5rem 0;">Pipelines</h4>
                <p style="color: var(--muted); line-height: 1.6;">Cron jobs orchestrated via OpenClaw. Mission Control renders structured JSON soon (placeholder data for now).</p>
            </div>
            <div>
                <h4 style="margin:0 0 0.5rem 0;">Next Up</h4>
                <p style="color: var(--muted); line-height: 1.6;">Expose mission-control.json, add WebSocket hooks for real-time cards, integrate alert acknowledgements.</p>
            </div>
        </div>
    </section>
</body>
</html>
